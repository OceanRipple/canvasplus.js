!function(){"use strict";function t(t){this.canvas=t,this.context=t.getContext("2d")}window.Canvasplus||(window.Canvasplus=t)}(),function(t){"use strict";var n=10,e="rgba(0,0,0,1)";t.prototype.normalBrush=function(t,o){function i(t,n){r=!0,v=n}function s(n,o){r&&(l=o,u.save(),u.globalCompositeOperation="source-over",u.beginPath(),u.lineCap="round",u.lineJoin="round",u.moveTo(v.x,v.y),u.lineTo(l.x,l.y),u.lineWidth=t,u.strokeStyle=e,u.stroke(),u.restore(),v=l)}function a(t,n){r=!1,v=null,l=null}var c=this;t||(t=n),o||(o=e);var u=(c.canvas,c.context),r=!1,v=null,l=null;c.bindEvent("start",i),c.bindEvent("move",s),c.bindEvent("end",a)},t.prototype.bindEvent=function(t,n){var e,o,i,s=this;switch(t){case"start":e="mousedown",o="touchstart";break;case"move":e="mousemove",o="touchmove";break;case"end":e="mouseup",o="touchend"}s.canvas.addEventListener(e,function(t){i={x:t.clientX,y:t.clientY},n(t,s.posConvert(i))}),s.canvas.addEventListener(o,function(t){i={x:t.touches[0].clientX,y:t.touches[0].clientY},n(t,s.posConvert(i))})},t.prototype.posConvert=function(t){var n=this,e=n.canvas,o=e.getBoundingClientRect();return{x:t.x-o.left*(e.width/o.width),y:t.y-o.top*(e.height/o.height)}}}(Canvasplus);